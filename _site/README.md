# learn-jekyll

Learning Jekyll which is a static site generator. I chose to learn this over Gatsby first because after some research it appears in most cases Jekyll is faster due to less network requests.

### Liquid - a templating language created by Shopify

Objects - for accessing vars - `{{ varName.varName2 }}`

tags - for logic and control flow - `{% if page.sidebar_show %} <div>sidebar</div>{% endif %}`

filters - for changing output of Objects - `{{ 'Hello World!' | downcase }}` - can check https://jekyllrb.com/docs/liquid/filters/ for more

### Front Matter - metadata in YAML format.

YAML starts with 3 hyphens and ends with 3 hyphens with key value pairs in between. Must be present for Jekyll to parse Liquid. Note YAML doesn't allow tabs - only spaces.
Example:

```
  ---
  title: My Blog
  ---
```

You can access Front Matter with Liquid Objects - e.g. `<title>{{ page.title }}</title>`

### Layouts - you can store layouts and set the page to use that particular layout.

Create a folder called \_layouts and in there create a layout e.g. \_layouts/default.html.

In the default.html ->

```
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>{{ page.title }}</title>
  </head>
  <body>
    {{ content }}
  </body>
</html>
```

`content` is a special variable that has the value of the rendered content of the page it's called on.

Then you can use this layout in each .md file using the following as front matter:

```
---
layout: default
---
```

You can set default layouts and have them apply automatically:

````
defaults:
- scope:
    path: ""
    type: "authors"
  values:
    layout: "author"
- scope:
    path: ""
    type: "posts"
  values:
    layout: "post"
- scope:
    path: ""
  values:
    layout: "default"
    ```



### Includes

The include tag allows you to include content from another file stored in the '\_includes' folder. They are similar to partials in templating languages like EJS.

Create a \_includes folder and in there you can create partials with an .html tag. Then in the even you want to access it, in the html file you are trying to include it in:

````

{% include NAMEOFFILE.html %}

```

### Data files

You can load in data from YAML, JSON and CSV files located in the \_data directory.

in \_data/FILENAME.yml (note extension):

```

- name: Home
  link: /
- name: About
  link: /about.html

```

This data file is available at `site.data.FILENAME`. You can iterate over these items.
In navigation.html

```

{% for item in site.data.navigation %}
<a href = "{{ item.link }}">{{item.name}}</a>
{% endfor %}

```

### Assets

Folder structure is to keep CSS, JS, and images in separate folders under and 'assets folder'.
SCSS comes with Jekyll. In the CSS folder you can create the file styles.scss and in it put the following:

```

---

---

@import "main";

```

The empty front matter in the file tells Jekyll to process it. `@import "main"` tells Jekyll to look for a .scss file called 'main' in the \_sass folder in the root.

in \_sass/main.scss:

```

.current {
color: green;
}

```

in \_layouts/default.html in the `<head>`:

```

<link rel="stylesheet" href="assets/css/styles.css" />
```

The styles.css referenced here is generated by Jekyll from the styles.scss you created earlier in assets/css/.

### Blogging

Blog posts live in the \_posts folder. The filename for posts have a special format: the publish date, then a title, followed by an extension.

Example: \_posts/2018-08-20-POSTNAME.md

You can iterate over the posts using `site.posts`

`post.url` is automatically set by Jekyll to the output path of the post
`post.title` is pulled from the post filename and can be overridden by setting title in front matter
`post.excerpt` is the first paragraph of content by default

### Collections

Collections are similar to posts but they don't have to be grouped by date.
In the root make a file called `_config.yml` and put in it:

```
collections:
  authors:
```

Anytime you change \_config.yml you must reload the server

Documents (the items in a collection) live in a folder named the name of the collection. e.g. \_authors
Then create a .md document for each one.
Example:
in \_authors/jill.md

---

short_name: Jill
name: Jill Smith
position: Chief Editor

---

Jill is a fruit grower in Scotland.

By default, collections don't output a page for documents. In this case we want each author to have their own page so we tweak the collection configuration.

Open \_config.yml and adjust it:

```
collections:
  authors:
    output: true
```

You can link between different types of file. Check docs for this.

### Deploying

The environment for the site by default is 'development'. To change to 'production':
In Terminal:

```
JEKYLL_ENV=production bundle exec jekyll build
```

You can access the environment in the website at jekyll.enivronment and then have logic and control flow based on the resulting environment.

Example: So to only output the analytics script on production you would do the following:

```
{% if jekyll.environment == "production" %}
  <script src="my-analytics-script.js"></script>
{% endif %}
```

To deploy - run:

```
JEKYLL_ENV=production bundle exec jekyll build
```

and copy \_site to the server.
